<%= form_with(model: [@hoby, @post], url: hoby_posts_path(@hoby), local: true, html: { class: 'form-horizontal'}) do |f| %>

<% if @post.errors.any? %>
<div id="error_explanation" class="alert alert-danger">
  <h2><%= pluralize(@post.errors.count, "error") %> <%= t('post.error_prohibited') %> </h2>
  <ul>
    <% @post.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
  </ul>
</div>
<% end %>

<%= f.hidden_field :hoby_id, :value => @hoby.id %>
<%= f.hidden_field :user_id, :value => current_user.id %>

<div class="form-group row">
  <%= f.label :annotation, t('post.form.annotation'), class: 'col-sm-2 col-form-label'  %>
  <div class="col-sm-10">
  <%= f.text_field :annotation, class: 'form-control' %>
  </div>
</div>

<div class="form-group row">
  <%= f.label :description, t('post.form.description'), class: 'col-sm-2 col-form-label'  %>
  <div class="col-sm-10">
  <%= f.text_area :description, class: 'form-control' %>
  </div>
</div>

<div class="form-group row">
  <%= f.label :type_id, t('post.form.type'), class: 'col-sm-2 col-form-label'  %>
  <div class="col-sm-10">
  <%= f.select :type_id, options_from_collection_for_select(@hoby.types, :id, :title), { include_blank: t('post.form.select_type') }, { class: 'form-control' } %>
  </div>
</div>

<div class="form-group row">
  <%= f.label :tag_ids, t('post.form.tags'), class: 'col-sm-2 col-form-label' %>
  <div class="col-sm-10">
    <%= f.collection_select :tag_ids, @hoby.tags, :id, :title, { prompt: t('post.form.select_tags')}, { multiple: true, class: 'form-control' } %>
  </div>
</div>

<div class="form-group row">
  <%= f.label :images, t('post.form.images') %>
  <div class="col-sm-10">
  <%= f.file_field :images, multiple: true, class: 'form-control' %>
  </div>
</div>

<div class="form-group">
  <%= f.submit t('post.form.create_post'), class: 'btn btn-primary' %>
</div>
<% end %>
