<%= form_with(model: [@hoby, @post], url: hoby_posts_path(@hoby), local: true, html: { class: 'form-horizontal'}) do |f| %>

<% if @post.errors.any? %>
<div id="error_explanation" class="alert alert-danger">
  <h2><%= pluralize(@post.errors.count, "error") %> prohibited this post from being saved:</h2>
  <ul>
    <% @post.errors.full_messages.each do |message| %>
    <li><%= message %></li>
    <% end %>
  </ul>
</div>
<% end %>

<%= f.hidden_field :hoby_id, :value => @hoby.id %>
<%= f.hidden_field :user_id, :value => current_user.id %>

<div class="form-group row">
  <%= f.label :annotation, class: 'col-sm-2 col-form-label'  %>
  <div class="col-sm-10">
  <%= f.text_field :annotation, class: 'form-control' %>
  </div>
</div>

<div class="form-group row">
  <%= f.label :description, class: 'col-sm-2 col-form-label'  %>
  <div class="col-sm-10">
  <%= f.text_area :description, class: 'form-control' %>
  </div>
</div>

<div class="form-group row">
  <%= f.label :type_id, 'Type', class: 'col-sm-2 col-form-label'  %>
  <div class="col-sm-10">
  <%= f.select :type_id, options_from_collection_for_select(@hoby.types, :id, :title), { include_blank: 'Select a type' }, { class: 'form-control' } %>
  </div>
</div>

<div class="form-group row">
  <%= f.label :tag_ids, "Tags", class: 'col-sm-2 col-form-label' %>
  <div class="col-sm-10">
    <%= f.collection_select :tag_ids, @hoby.tags, :id, :title, { prompt: 'Select groups'}, { multiple: true, class: 'form-control' } %>
  </div>
</div>

<div class="form-group row">
  <%= f.label :images %>
  <div class="col-sm-10">
  <%= f.file_field :images, multiple: true, class: 'form-control' %>
  </div>
</div>

<div class="form-group">
  <%= f.submit 'Create Post', class: 'btn btn-primary' %>
</div>
<% end %>
