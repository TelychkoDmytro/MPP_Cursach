<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= @hoby.title %></title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1><%= @hoby.title %></h1>
    <h2><%= t('hobby.posts') %></h2>
    <div class="new-post-link">
      <%= link_to t('hobby.new_post'), new_hoby_post_path(@hoby) if current_user %>
    </div>
    <div class="posts-grid">
      <% @posts.each do |post| %>
        <div class="post-card">
          <div class="post-header">
            <span class="post-user">
              <%= link_to post.user.user_name, user_path(post.user) %>
            </span>
            <span class="post-type">
              <%= post.type.title %>
            </span>
          </div>
          <div class="post-main">
            <% if post.images.attached? %>
              <div class="post-images">
                <% post.images.each do |image| %>
                  <div class="post-image">
                    <%= image_tag image, class: "responsive-image" %>
                  </div>
                <% end %>
              </div>
            <% end %>
            <div class="post-content">
              <h3><%= link_to post.annotation, hoby_post_path(@hoby, post) %></h3>
              <p class="post-description"><%= post.description %></p>
            </div>
          </div>
          <div class="post-footer">
            <span class="post-date">
              <%= l(post.created_at, format: :long) %>
            </span>
            <span class="post-likes">
              <%= post.likes.count %> <%= (post.likes.count == 1) ? t('hobby.one_like') : t('hobby.likes') %>
            </span>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</body>
</html>
